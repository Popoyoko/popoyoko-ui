# .github/workflows/main.yml

# Workflow name
name: "Build Storybook"

# Event for the workflow
on:
  push:
    branches:
      - develop

# List of jobs
jobs:
  chromatic-deployment:
    # Operating System
    runs-on: ubuntu-latest
    # Job steps
    steps:
      - uses: oven-sh/setup-bun@v1
        with:
          bun-version: latest
      - uses: actions/checkout@v1
        # ðŸ‘‡ Check if the branch is the specific branch you want to build on
        if: ${{ github.ref == 'refs/heads/main' }}
      - name: Install dependencies
        # ðŸ‘‡ Install dependencies with the same package manager used in the project (replace it as needed), e.g. yarn, npm, pnpm
        run: bun install
      # ðŸ‘‡ Add another step to build Storybook on the specific branch
      - name: Build Storybook
        # ðŸ‘‡ Check if the branch is the specific branch you want to build on
        if: ${{ github.ref == 'refs/heads/main' }}
        run: bun run build-storybook
