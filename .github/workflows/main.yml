# .github/workflows/main.yml

# Workflow name
name: "ðŸš€ Deployment (Main Branch)"

# Event for the workflow
on:
  push:
    branches:
      - develop

# List of jobs
jobs:
  deployment-on-main:
    # Operating System
    runs-on: ubuntu-latest
    # Job steps
    steps:
      - uses: oven-sh/setup-bun@v1
        with:
          bun-version: latest
      - name: Checkout code
        uses: actions/checkout@v2
        with:
          ref: develop
      - name: Install dependancies
        run: bun i
      - name: Build Storybook
        run: bun run build-storybook
      - name: ðŸš€ Deploy
        uses: JamesIves/github-pages-deploy-action@v4.4.1
        with:
          folder: storybook-static # The folder the action should deploy.
          branch: main
          single-commit: true
